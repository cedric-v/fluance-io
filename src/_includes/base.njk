<!DOCTYPE html>
<html lang="{{ locale }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    {% if title %}
    <title>{{ title }} | Fluance</title>
    {% else %}
    {% if locale == 'fr' %}
    <title>Accueil | Fluance</title>
    {% else %}
    <title>Home | Fluance</title>
    {% endif %}
    {% endif %}
    <meta name="description" content="{{ description or 'Accompagnement professionnel et dÃ©veloppement personnel.' }}">
    
    {% set canonicalUrl = fullUrl | url %}
    <link rel="canonical" href="https://fluance.io{{ canonicalUrl }}">
    
    <link rel="alternate" hreflang="fr" href="https://fluance.io{% if canonicalUrl.startsWith('/en/') %}{{ canonicalUrl | replace('/en/', '/fr/') }}{% else %}{{ canonicalUrl }}{% endif %}">
    <link rel="alternate" hreflang="en" href="https://fluance.io{% if canonicalUrl.startsWith('/fr/') %}{{ canonicalUrl | replace('/fr/', '/en/') }}{% else %}{{ canonicalUrl }}{% endif %}">
    
    <link rel="stylesheet" href="{{ '/assets/css/styles.css' | url }}">
    
    <link rel="icon" type="image/x-icon" href="https://fluance.io/favicon.ico">
</head>
<body class="font-[Inter] bg-[#fdfaf6] text-[#1f1f1f] antialiased">

    {% include "header.njk" %}

    <main class="min-h-screen pt-28">
        {{ content | safe }}
    </main>
    
    {% include "footer.njk" %}

<script>
  const toggle = document.querySelector('[data-menu-toggle]');
  const mobileMenu = document.querySelector('[data-menu-mobile]');
  if (toggle && mobileMenu) {
    toggle.addEventListener('click', (e) => {
      e.stopPropagation();
      mobileMenu.classList.toggle('hidden');
    });
  }
  
  // Fermer le menu mobile quand on clique en dehors
  document.addEventListener('click', (e) => {
    if (mobileMenu && !mobileMenu.contains(e.target) && !toggle.contains(e.target)) {
      mobileMenu.classList.add('hidden');
    }
  });

  // Gestion des dropdowns mobiles
  document.querySelectorAll('[data-mobile-dropdown]').forEach(button => {
    button.addEventListener('click', () => {
      const dropdownId = button.getAttribute('data-mobile-dropdown');
      const content = document.querySelector(`[data-dropdown-content="${dropdownId}"]`);
      const arrow = document.querySelector(`[data-arrow="${dropdownId}"]`);
      
      if (content && arrow) {
        content.classList.toggle('hidden');
        arrow.classList.toggle('rotate-180');
      }
    });
  });
</script>
</body>
</html>